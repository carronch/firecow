---
import { getEntry } from 'astro:content';
import BookingWidget from './BookingWidget.astro';

const homepageData = await getEntry('homepage', 'settings');
const homepage = homepageData?.data;

const heroImage = homepage?.heroImage || "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&q=80";
const heroHeading = homepage?.heroHeading || "Premium Tours & Adventures";
const heroSubheading = homepage?.heroSubheading || "Experience the adventure of a lifetime";
const zohoUrl = homepage?.zohoBookingUrl || "#contact";
---

<section 
  class="relative min-h-screen flex items-center justify-center text-white overflow-hidden py-20"
  aria-label="Hero section"
>
    <!-- Background Image with proper loading -->
    <div class="absolute inset-0 z-0 h-full w-full">
        <div class="absolute inset-0 bg-gradient-to-b from-slate-900/60 via-slate-900/40 to-slate-900/80 z-10"></div>
        <img 
            src={heroImage}
            alt="Beautiful Costa Rica adventure tour scenery"
            class="w-full h-full object-cover"
            loading="eager"
            fetchpriority="high"
            width="1920"
            height="1080"
        />
    </div>

    <!-- Hero Content -->
    <div class="container mx-auto px-4 z-10 text-center mt-10">
        <h1 class="text-5xl md:text-7xl font-heading font-extrabold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-white via-blue-100 to-white drop-shadow-2xl">
            {heroHeading}
        </h1>
        <p class="text-xl md:text-2xl mb-8 text-blue-50 font-light max-w-3xl mx-auto drop-shadow-lg leading-relaxed">
            {heroSubheading}
        </p>
        
        <!-- Booking Widget - Primary CTA -->
        <BookingWidget bookingUrl={zohoUrl} />
    </div>

    <!-- Scroll Indicator -->
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 z-10 animate-bounce">
        <a href="#experiences" aria-label="Scroll down to see more">
            <i class="fa-solid fa-chevron-down text-white text-3xl opacity-70 hover:opacity-100 transition-opacity" aria-hidden="true"></i>
        </a>
    </div>
</section>
